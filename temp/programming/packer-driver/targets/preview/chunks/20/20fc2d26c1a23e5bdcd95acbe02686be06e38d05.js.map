{"version":3,"sources":["file:///Users/super_javan/cocoscreator/PlayCard/assets/Script/Base/Event/EventMgr.ts"],"names":["EventMgr","eventMap","Map","getInstance","instance","on","IEvt","evt","cb","ctx","has","set","off","emit","event","item","get","param","apply","clear"],"mappings":";;;iBAMqBA,Q;;;;;;;;;;;;;yBAAAA,Q,GAAN,MAAMA,QAAN,CAAe;AAAA;AAAA,eASlBC,QATkB,GASa,IAAIC,GAAJ,EATb;AAAA;;AAED,eAAXC,WAAW,GAAQ;AAC7B,cAAI,KAAKC,QAAL,IAAiB,IAArB,EAA2B;AACvB,iBAAKA,QAAL,GAAgB,IAAIJ,QAAJ,EAAhB;AACH;;AACD,iBAAO,KAAKI,QAAZ;AACH;;AAIDC,QAAAA,EAAE,CAACC,IAAD,EAAc;AACZ,cAAM;AAAEC,YAAAA,GAAF;AAAOC,YAAAA,EAAP;AAAWC,YAAAA;AAAX,cAAmBH,IAAzB;;AACA,cAAI,CAAC,KAAKL,QAAL,CAAcS,GAAd,CAAkBH,GAAlB,CAAL,EAA6B;AACzB,iBAAKN,QAAL,CAAcU,GAAd,CAAkBJ,GAAlB,EAAuBD,IAAvB;AACH;AACJ;;AAEDM,QAAAA,GAAG,GAAG,CAEL;;AAEDC,QAAAA,IAAI,CAACC,KAAD,EAA0B;AAC1B,cAAI,KAAKb,QAAL,CAAcS,GAAd,CAAkBI,KAAlB,CAAJ,EAA8B;AAC1B,gBAAMC,IAAI,GAAG,KAAKd,QAAL,CAAce,GAAd,CAAkBF,KAAlB,CAAb;AACA,gBAAM;AAAEP,cAAAA,GAAF;AAAOC,cAAAA,EAAP;AAAWC,cAAAA;AAAX,gBAAmBM,IAAzB;;AACA,gBAAIR,GAAG,IAAIC,EAAX,EAAe;AAAA,gDAJAS,KAIA;AAJAA,gBAAAA,KAIA;AAAA;;AACXT,cAAAA,EAAE,CAACU,KAAH,CAAST,GAAT,EAAc,GAAGQ,KAAjB;AACH;AACJ;AACJ;;AAEDE,QAAAA,KAAK,GAAG,CAEP;;AAlCyB,O;;AAATnB,MAAAA,Q,CACVI,Q","sourcesContent":["interface IItem {\n    evt: string,\n    cb: Function,\n    ctx: unknown\n}\n\nexport default class EventMgr {\n    static instance: any\n    public static getInstance(): any {\n        if (this.instance == null) {\n            this.instance = new EventMgr()\n        }\n        return this.instance\n    }\n\n    private eventMap: Map<string, IItem> = new Map()\n\n    on(IEvt: IItem) {\n        const { evt, cb, ctx } = IEvt\n        if (!this.eventMap.has(evt)) {\n            this.eventMap.set(evt, IEvt)\n        }\n    }\n\n    off() {\n\n    }\n\n    emit(event: string, ...param) {\n        if (this.eventMap.has(event)) {\n            const item = this.eventMap.get(event)\n            const { evt, cb, ctx } = item\n            if (evt && cb) {\n                cb.apply(ctx, ...param)\n            }\n        }\n    }\n\n    clear() {\n\n    }\n}"]}