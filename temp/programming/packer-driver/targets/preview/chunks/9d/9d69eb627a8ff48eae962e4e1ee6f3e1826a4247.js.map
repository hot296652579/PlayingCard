{"version":3,"sources":["file:///Users/super_javan/cocoscreator/PlayCard/assets/Script/Model/GameDB.ts"],"names":["PokerGrop","GameDB","ECardDir","EnumSuit","Poker","_pokers","pokers","cardTotal","cardSuits","RECEIVE_AREA_COUNT","PLAY_AREA_COUNT","_closePokers","_openPokers","_receiveArea","_playArea","getInstance","instance","createCardsDB","i","j","suit","HeiTao","HongTao","MeiHua","FangKuai","poker","CLOSE","push","index","receiveGroup","startGame","temp","closePokers","openPokers","playArea","receiveArea"],"mappings":"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","sourcesContent":["import { ECardDir, EnumSuit } from \"../Enum\"\nimport Poker from \"./Poker\"\n\nexport class PokerGrop {\n    private _pokers: Poker[] = []\n    public get pokers(): Poker[] {\n        return this._pokers\n    }\n}\n\nexport default class GameDB {\n    private static instance: any = null\n    static getInstance() {\n        if (this.instance == null) {\n            this.instance = new GameDB()\n        }\n        return this.instance\n    }\n\n    private readonly cardTotal: number = 13\n    private readonly cardSuits: number = 4\n\n    private readonly RECEIVE_AREA_COUNT: number = 4\n    private readonly PLAY_AREA_COUNT: number = 7\n    private _pokers: Poker[] = []\n\n    /** 发牌区数据*/\n    private _closePokers: Poker[] = []\n    /** 开牌区数据*/\n    private _openPokers: Poker[] = []\n    /** 收牌区数据*/\n    private _receiveArea: PokerGrop[] = []\n    /** 玩牌区数据*/\n    private _playArea: PokerGrop[] = []\n\n    createCardsDB() {\n        for (let i = 1; i <= this.cardTotal; i++) {\n            for (let j = 0; j < this.cardSuits; j++) {\n                let suit: EnumSuit = EnumSuit.HeiTao\n                switch (j) {\n                    case 1:\n                        suit = EnumSuit.HongTao\n                        break;\n                    case 2:\n                        suit = EnumSuit.MeiHua\n                        break;\n                    case 3:\n                        suit = EnumSuit.FangKuai\n                        break;\n\n                    default:\n                        suit = EnumSuit.HeiTao\n                        break;\n                }\n\n                let poker = new Poker(i, suit, ECardDir.CLOSE)\n                this._pokers.push(poker)\n            }\n        }\n\n        for (let index = 0; index < this.RECEIVE_AREA_COUNT; index++) {\n            let receiveGroup = new PokerGrop()\n            this._receiveArea.push(receiveGroup)\n        }\n\n        for (let index = 0; index < this.PLAY_AREA_COUNT; index++) {\n            let receiveGroup = new PokerGrop()\n            this._playArea.push(receiveGroup)\n        }\n    }\n\n    startGame() {\n        let temp = this._pokers\n        this._closePokers = this.pokers\n        this._pokers = temp\n    }\n\n    public get pokers(): Poker[] { return this._pokers }\n    public get closePokers(): Poker[] { return this._closePokers }\n    public get openPokers(): Poker[] { return this._openPokers }\n    public get playArea(): PokerGrop[] { return this._playArea }\n    public get receiveArea(): PokerGrop[] { return this._receiveArea }\n}\n"]}