{"version":3,"sources":["file:///Users/super_javan/cocoscreator/PlayCard/assets/Script/GameEngine.ts"],"names":["GameEngine","instantiate","EnumSuit","Poker","UIPoker","constructor","cardTotal","cardSuits","pokers","cardPrefab","cardContainer","init","container","gameStart","i","j","suit","HeiTao","HongTao","MeiHua","FangKuai","poker","push","createAllCard","uiPoker","createUIPoker","addChild","node","setPosition","Math","random","getComponent"],"mappings":";;;sHAKqBA,U;;;;;;;;;;;;;;;;;;;;;;;AALZC,MAAAA,W,OAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACFC,MAAAA,K;;AACEC,MAAAA,O,iBAAAA,O;;;;;;;;;yBAEYJ,U,GAAN,MAAMA,UAAN,CAAiB;AAI5BK,QAAAA,WAAW,GAAG;AAAA,eAHNC,SAGM,GAHc,EAGd;AAAA,eAFNC,SAEM,GAFc,CAEd;AAAA,eADNC,MACM,GADY,EACZ;AAAA,eAEdC,UAFc,GAEO,IAFP;AAAA,eAGdC,aAHc,GAGQ,IAHR;AAAG;;AAKjBC,QAAAA,IAAI,CAACC,SAAD,EAAkBH,UAAlB,EAAsC;AACtC,eAAKC,aAAL,GAAqBE,SAArB;AACA,eAAKH,UAAL,GAAkBA,UAAlB;AACH;;AACDI,QAAAA,SAAS,GAAG;AACR,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,KAAKR,SAA1B,EAAqCQ,CAAC,EAAtC,EAA0C;AACtC,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKR,SAAzB,EAAoCQ,CAAC,EAArC,EAAyC;AACrC,kBAAIC,IAAc,GAAG;AAAA;AAAA,wCAASC,MAA9B;;AACA,sBAAQF,CAAR;AACI,qBAAK,CAAL;AACIC,kBAAAA,IAAI,GAAG;AAAA;AAAA,4CAASE,OAAhB;AACA;;AACJ,qBAAK,CAAL;AACIF,kBAAAA,IAAI,GAAG;AAAA;AAAA,4CAASG,MAAhB;AACA;;AACJ,qBAAK,CAAL;AACIH,kBAAAA,IAAI,GAAG;AAAA;AAAA,4CAASI,QAAhB;AACA;;AAEJ;AACIJ,kBAAAA,IAAI,GAAG;AAAA;AAAA,4CAASC,MAAhB;AACA;AAbR;;AAgBA,kBAAII,KAAK,GAAG;AAAA;AAAA,kCAAUP,CAAV,EAAaE,IAAb,CAAZ;AACA,mBAAKR,MAAL,CAAYc,IAAZ,CAAiBD,KAAjB;AACH;AACJ;;AAED,eAAKE,aAAL;AACH;;AAEDA,QAAAA,aAAa,GAAG;AACZ,eAAK,IAAMF,KAAX,IAAoB,KAAKb,MAAzB,EAAiC;AAC7B,gBAAIgB,OAAO,GAAG,KAAKC,aAAL,CAAmBJ,KAAnB,CAAd;AACA,iBAAKX,aAAL,CAAmBgB,QAAnB,CAA4BF,OAAO,CAACG,IAApC;AAEAH,YAAAA,OAAO,CAACG,IAAR,CAAaC,WAAb,CAAyBC,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsB,GAA/C,EAAoDD,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsB,GAA1E;AACH;AACJ;;AAEDL,QAAAA,aAAa,CAACJ,KAAD,EAAwB;AACjC,cAAMZ,UAAU,GAAGR,WAAW,CAAC,KAAKQ,UAAN,CAA9B;AACA,cAAMe,OAAO,GAAGf,UAAU,CAACsB,YAAX;AAAA;AAAA,iCAAhB;AACAP,UAAAA,OAAO,CAACb,IAAR,CAAaU,KAAb;AACA,iBAAOG,OAAP;AACH;;AAvD2B,O","sourcesContent":["import { instantiate, Prefab, Node } from \"cc\";\nimport { EnumSuit } from \"./Enum\";\nimport Poker from \"./Poker\";\nimport { UIPoker } from \"./UI/UIPoker\";\n\nexport default class GameEngine {\n    private cardTotal: number = 13\n    private cardSuits: number = 4\n    private pokers: Poker[] = []\n    constructor() { }\n\n    cardPrefab: Prefab = null\n    cardContainer: Node = null\n\n    init(container: Node, cardPrefab: Prefab) {\n        this.cardContainer = container\n        this.cardPrefab = cardPrefab\n    }\n    gameStart() {\n        for (let i = 1; i <= this.cardTotal; i++) {\n            for (let j = 0; j < this.cardSuits; j++) {\n                let suit: EnumSuit = EnumSuit.HeiTao\n                switch (j) {\n                    case 1:\n                        suit = EnumSuit.HongTao\n                        break;\n                    case 2:\n                        suit = EnumSuit.MeiHua\n                        break;\n                    case 3:\n                        suit = EnumSuit.FangKuai\n                        break;\n\n                    default:\n                        suit = EnumSuit.HeiTao\n                        break;\n                }\n\n                let poker = new Poker(i, suit)\n                this.pokers.push(poker)\n            }\n        }\n\n        this.createAllCard()\n    }\n\n    createAllCard() {\n        for (const poker of this.pokers) {\n            let uiPoker = this.createUIPoker(poker)\n            this.cardContainer.addChild(uiPoker.node)\n\n            uiPoker.node.setPosition(Math.random() * 400 - 200, Math.random() * 400 - 200)\n        }\n    }\n\n    createUIPoker(poker: Poker): UIPoker {\n        const cardPrefab = instantiate(this.cardPrefab)\n        const uiPoker = cardPrefab.getComponent(UIPoker)\n        uiPoker.init(poker)\n        return uiPoker\n    }\n}"]}