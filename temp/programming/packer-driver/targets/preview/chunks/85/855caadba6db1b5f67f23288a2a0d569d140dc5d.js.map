{"version":3,"sources":["file:///Users/super_javan/cocoscreator/PlayCard/assets/Script/GameEngine.ts"],"names":["GameEngine","EventMgr","EventGame_Enum","GameDB","constructor","gameView","init","m_GameView","initEvent","getInstance","createCardsDB","on","EVENT_RESTART_GAME","restartHandler","EVENT_GAME_INIT","createAllCardByDB","EVENT_GAME_START","gamePlay","EVENT_GAME_INIT_GROUP","initPlayGroup","restartGame","exitHandler","off"],"mappings":";;;iHAOqBA,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AANdC,MAAAA,Q;;AACYC,MAAAA,c,iBAAAA,c;;AACZC,MAAAA,M;;;;;;;;;yBAIcH,U,GAAN,MAAMA,UAAN,CAAiB;AAG5BI,QAAAA,WAAW,GAAG;AAAA,eADNC,QACM;AAAG;;AAEjBC,QAAAA,IAAI,CAACC,UAAD,EAAa;AACb,eAAKF,QAAL,GAAgBE,UAAhB;AACA,eAAKC,SAAL,GAFa,CAGb;;AACA;AAAA;AAAA,gCAAOC,WAAP,GAAqBC,aAArB;AACH;;AAEDF,QAAAA,SAAS,GAAG;AACR;AAAA;AAAA,oCAASC,WAAT,GAAuBE,EAAvB,CAA0B;AAAA;AAAA,gDAAeC,kBAAzC,EAA6D,KAAKC,cAAlE;AACA;AAAA;AAAA,oCAASJ,WAAT,GAAuBE,EAAvB,CAA0B;AAAA;AAAA,gDAAeG,eAAzC,EAA0D,KAAKT,QAAL,CAAcU,iBAAxE,EAA2F,KAAKV,QAAhG;AACA;AAAA;AAAA,oCAASI,WAAT,GAAuBE,EAAvB,CAA0B;AAAA;AAAA,gDAAeK,gBAAzC,EAA2D,KAAKX,QAAL,CAAcY,QAAzE,EAAmF,KAAKZ,QAAxF;AACA;AAAA;AAAA,oCAASI,WAAT,GAAuBE,EAAvB,CAA0B;AAAA;AAAA,gDAAeO,qBAAzC,EAAgE,KAAKb,QAAL,CAAcc,aAA9E,EAA6F,KAAKd,QAAlG;AACH;;AAEDQ,QAAAA,cAAc,GAAG;AACb;AAAA;AAAA,gCAAOJ,WAAP,GAAqBW,WAArB;AACH;;AAEDH,QAAAA,QAAQ,GAAG;AACP;AAAA;AAAA,gCAAOR,WAAP,GAAqBQ,QAArB;AACH;;AAEDI,QAAAA,WAAW,GAAG;AACV;AAAA;AAAA,oCAASZ,WAAT,GAAuBa,GAAvB,CAA2B;AAAA;AAAA,gDAAeR,eAA1C,EAA2D,KAAKT,QAAL,CAAcU,iBAAzE;AACA;AAAA;AAAA,oCAASN,WAAT,GAAuBa,GAAvB,CAA2B;AAAA;AAAA,gDAAeN,gBAA1C,EAA4D,KAAKX,QAAL,CAAcY,QAA1E;AACA;AAAA;AAAA,oCAASR,WAAT,GAAuBa,GAAvB,CAA2B;AAAA;AAAA,gDAAeJ,qBAA1C,EAAiE,KAAKb,QAAL,CAAcc,aAA/E;AACH;;AA/B2B,O","sourcesContent":["import { instantiate, Prefab, Node, Game } from \"cc\";\nimport EventMgr from \"./Base/Event/EventMgr\";\nimport { EnumSuit, EventGame_Enum } from \"./Enum\";\nimport GameDB from \"./Model/GameDB\";\nimport { UIPoker } from \"./UI/UIPoker\";\nimport { UIGameView } from \"./View/UIGameView\";\n\nexport default class GameEngine {\n\n    private gameView: UIGameView\n    constructor() { }\n\n    init(m_GameView) {\n        this.gameView = m_GameView\n        this.initEvent()\n        // GameDB.getInstance().initEvent()\n        GameDB.getInstance().createCardsDB()\n    }\n\n    initEvent() {\n        EventMgr.getInstance().on(EventGame_Enum.EVENT_RESTART_GAME, this.restartHandler)\n        EventMgr.getInstance().on(EventGame_Enum.EVENT_GAME_INIT, this.gameView.createAllCardByDB, this.gameView)\n        EventMgr.getInstance().on(EventGame_Enum.EVENT_GAME_START, this.gameView.gamePlay, this.gameView)\n        EventMgr.getInstance().on(EventGame_Enum.EVENT_GAME_INIT_GROUP, this.gameView.initPlayGroup, this.gameView)\n    }\n\n    restartHandler() {\n        GameDB.getInstance().restartGame()\n    }\n\n    gamePlay() {\n        GameDB.getInstance().gamePlay()\n    }\n\n    exitHandler() {\n        EventMgr.getInstance().off(EventGame_Enum.EVENT_GAME_INIT, this.gameView.createAllCardByDB)\n        EventMgr.getInstance().off(EventGame_Enum.EVENT_GAME_START, this.gameView.gamePlay)\n        EventMgr.getInstance().off(EventGame_Enum.EVENT_GAME_INIT_GROUP, this.gameView.initPlayGroup)\n    }\n}"]}